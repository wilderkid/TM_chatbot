# AI Chat Sidebar - 全能网页AI助手

## 📖 简介
**AI Chat Sidebar** 是一款功能强大的油猴（Tampermonkey）脚本，它在您的浏览器侧边栏添加了一个可随时调用的 AI 对话窗口。无论您浏览哪个网站，都可以通过点击悬浮按钮快速唤起 AI 助手，进行对话、提问或让 AI 帮您总结当前网页内容。

本脚本支持**自定义 API 提供商**，这意味着您可以连接到 OpenAI、DeepSeek、Claude、或者本地运行的 Ollama/LM Studio 等任何支持 OpenAI 格式接口的服务。

## ✨ 核心功能

### 1. 🤖 多模型/多服务商支持
*   **自定义接口**：支持添加多个 AI 服务商（如 OpenAI, DeepSeek, SiliconFlow, Groq 等）。
*   **模型管理**：支持一键自动获取模型列表，也支持手动添加模型 ID。
*   **参数调节**：可实时调整温度（Temperature）、最大 Token 数、上下文记忆轮数。

### 2. 💬 强大的对话体验
*   **流式响应**：支持打字机效果的流式输出，无需等待完整生成。
*   **Markdown 渲染**：完美支持 Markdown 格式，包括表格、列表、粗体、公式等。
*   **代码高亮**：内置 Highlight.js，自动识别并高亮显示代码块，支持一键复制。
*   **思考过程展示**：完美支持推理模型（如 DeepSeek-R1）的 `<think>` 标签，可折叠/展开查看 AI 的思考过程。
*   **消息操作**：支持复制、删除、重新生成消息。

### 3. 📄 网页智能总结
*   **一键总结**：内置"总结网页"按钮，自动提取当前页面主要内容并发送给 AI 进行摘要。
*   **智能截断**：自动处理长文本，避免超出 Token 限制。

### 4. 🎨 个性化主题
内置多种精美主题，满足不同审美需求：
*   🌌 **默认极光**：紫蓝渐变，现代感强。
*   📝 **Notion 风格**：极简黑白，清爽干净。
*   📺 **YouTube 风格**：经典红白黑配色。
*   🐱 **GitHub 风格**：程序员熟悉的界面。
*   🎮 **Discord 风格**：深色游戏社区风格。
*   🍎 **Apple 风格**：磨砂玻璃拟态效果。

### 5. 💡 提示词（Prompt）库
*   **自定义提示词**：可保存常用的系统提示词（System Prompts）。
*   **快速切换**：在对话中随时切换不同的角色设定（如"翻译助手"、"代码专家"、"润色大师"）。

### 6. 💾 历史记录管理
*   **自动保存**：所有对话记录自动保存在本地。
*   **会话管理**：支持新建、重命名、删除、批量删除会话。
*   **系统配置**：可设置新建对话时的默认模型和默认提示词。

## 🚀 使用指南

### 安装
1.  确保浏览器已安装 **Tampermonkey** 扩展。
2.  安装本脚本。

### 快速配置
1.  **打开侧边栏**：点击页面右下角的紫色悬浮气泡图标 💬。
2.  **添加服务商**：
    *   点击顶部的 **"AI提供商"** 标签。
    *   点击 **"+ 添加供应商"**。
    *   **名称**：输入任意名称（如 DeepSeek）。
    *   **API URL**：输入接口地址（例如 `https://api.deepseek.com`）。脚本会自动补全 `/v1/chat/completions`。
    *   **API Key**：输入您的 API 密钥。
    *   点击 **"保存"**。
3.  **添加模型**：
    *   点击 **"获取模型列表"** 自动拉取。
    *   或者点击 **"+ 手动添加模型"** 输入模型 ID（如 `deepseek-chat`）。
4.  **开始对话**：
    *   回到 **"对话"** 标签。
    *   在左上角下拉框选择刚才配置的模型。
    *   在输入框输入内容即可开始聊天。

## ⚙️ 常见 API 配置示例

| 服务商 | API URL | 常用模型 |
| :--- | :--- | :--- |
| **OpenAI** | `https://api.openai.com` | `gpt-4o`, `gpt-3.5-turbo` |
| **DeepSeek** | `https://api.deepseek.com` | `deepseek-chat`, `deepseek-reasoner` |
| **SiliconFlow** | `https://api.siliconflow.cn` | `deepseek-ai/DeepSeek-V3`, `deepseek-ai/DeepSeek-R1` |
| **Ollama (本地)** | `http://localhost:11434` | `llama3`, `qwen2.5` |

*(注意：本地 Ollama 需确保设置环境变量 `OLLAMA_ORIGINS="*"` 以允许跨域访问)*

## 🔒 隐私说明
*   本脚本**完全开源**，无任何恶意代码。
*   所有配置（API Key、聊天记录、提示词）均使用 `GM_setValue` 存储在**您本地的浏览器中**。
*   脚本仅在您发送消息时，直接向您配置的 API 地址发送请求，**不会经过任何第三方中转服务器**。

---
*如果觉得好用，请给个好评！*
